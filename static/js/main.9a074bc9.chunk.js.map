{"version":3,"sources":["Assets/logo.svg","Constants.js","Boop/Boop.js","RoleDescription.js","ScoreScreen.js","Header.js","Game/Game.js","serviceWorker.js","index.js"],"names":["module","exports","booster","navigator","wrangler","lifeSupport","Boop","onClick","props","onBoop","type","className","name","React","Component","RoleDescription","roleId","children","id","content","ScoreScreen","boosterScore","habitatorScore","navigatorScore","wranglerScore","secondsForRound","onNextRoundClick","minutes","toFixed","seconds","length","Header","src","LogoSvg","alt","Game","defaultRoleShape","boops","defaultState","room","state","resetGame","send","command","nextRound","value","this","setState","Colyseus","joinOrCreate","then","zones","onChange","update","sessionId","clientId","roleName","changes","stateChanges","forEach","change","field","yourRole","totalBoops","getRole","stage","betweenRounds","totalBoopsRequired","secondsForLastRound","yourScore","updateBoops","renderScreen","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a074bc9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.654d467c.svg\";","export const LocalServer = \"ws://localhost:2567\"\nexport const ProductionServer = \"wss://feral-hog-distribution.herokuapp.com\"\n\nexport const booster = \"booster\"\nexport const navigator = \"navigator\"\nexport const wrangler = \"wrangler\"\nexport const lifeSupport = \"lifeSupport\"\n","import React from 'react'\n\nexport default class Boop extends React.Component {\n  render() {\n    return (\n      <p><button onClick={() => this.props.onBoop(1)} type=\"button\" className=\"text\" name=\"input\">Snoot</button></p>\n    )\n  }\n}","import React from 'react'\n\nimport { booster, wrangler, navigator, lifeSupport } from './Constants'\n\nexport default function RoleDescription({ roleId, children }) {\n\n  function content() {\n    switch (roleId) {\n      case booster:\n        return (\n          <>\n            <h2>You are the <strong>Booster</strong></h2>\n            <p>You crank the engine and keep the ship going at the correct speed.</p>\n            <p>Listen to the <strong>Navigator</strong> and keep the ship going at the correct speed.</p>\n            <p>Monitor the <strong>Boom-O-Meter</strong> and tell the <strong>Wrangler</strong> their target.</p>\n          </>\n        )\n      case wrangler:\n        return (\n          <>\n            <h2>You are the <strong>Wrangler</strong></h2>\n            <p>You boop the hogs and make sure the engines have enough fuel.</p>\n            <p>Listen to the <strong>Booster</strong> and keep milk at the forrect flow rate.</p>\n            <p>Monitor the <strong>Therm-O-Meter</strong> and tell the <strong>Habitator</strong> their target.</p>\n          </>\n        )\n      case navigator:\n        return (\n          <>\n            <h2>You are the <strong>Navigator</strong></h2>\n            <p>You drive the ship and keep it sailing in the right direction.</p>\n            <p>Listen to the <strong>Habitator</strong> and keep the ship on target.</p>\n            <p>Monitor the <strong>Warp-O-Meter</strong> and tell the <strong>Booster</strong> their target.</p>\n          </>\n        )\n      case lifeSupport:\n        return (\n          <>\n            <h2>You are the <strong>Habitator</strong></h2>\n            <p>You maintain the life support systems and keep the hogs at a healthy temperature</p>\n            <p>Listen to the <strong>Wrangler</strong> and keep the hogs at the correct temperature.</p>\n            <p>Monitor the <strong>Ray-O-Meter</strong> and tell the <strong>Navigator</strong> their energy production target.</p>\n          </>\n        )\n      default:\n        return null\n    }\n  }\n\n  return (\n    <main id=\"role_allocation\">\n      {content()}\n      {children}\n    </main>\n  )\n}","import React from 'react'\n\nexport default function ScoreScreen({ boosterScore, habitatorScore, navigatorScore, wranglerScore, secondsForRound, onNextRoundClick }) {\n  const minutes = (secondsForRound / 60).toFixed(0)\n  let seconds = (secondsForRound % 60).toFixed(0)\n  if (seconds.length === 1) seconds = \"0\" + seconds\n\n  return (\n    <main id=\"screen_score\">\n      <dl className=\"list_score\">\n        <dt>Time</dt>\n        <dd>{minutes}:{seconds}</dd>\n      </dl>\n      <dl className=\"list_score\">\n        <dt>Navigator</dt>\n        <dd className=\"percent\">{navigatorScore}</dd>\n        <dt>Wrangler</dt>\n        <dd className=\"percent\">{wranglerScore}</dd>\n        <dt>Booster</dt>\n        <dd className=\"percent\">{boosterScore}</dd>\n        <dt>Habitator</dt>\n        <dd className=\"percent\">{habitatorScore}</dd>\n      </dl>\n      <h2>CASH</h2>\n      <p>$165,987,000</p>\n      <p><button onClick={onNextRoundClick} type=\"button\" className=\"text\" name=\"input\">Next round</button></p>\n    </main>\n  )\n}","import React from 'react'\n\nimport LogoSvg from './Assets/logo.svg'\n\nexport default function Header() {\n  return (\n    <header>\n      <img src={LogoSvg} alt=\"Game logo\" />\n    </header>\n  )\n}","import * as Colyseus from \"colyseus.js\";\n\nimport React from 'react'\nimport './Game.scss'\n\nimport { LocalServer, ProductionServer, lifeSupport, navigator, wrangler, booster } from \"../Constants\"\n\nimport Boop from '../Boop/Boop'\nimport RoleDescription from \"../RoleDescription\";\nimport ScoreScreen from \"../ScoreScreen\";\nimport Header from \"../Header\";\n\nexport default class Game extends React.Component {\n  defaultRoleShape = () => {\n    return {\n      id: null,\n      name: null,\n      boops: 0,\n    }\n  }\n\n  defaultState = () => {\n    return {\n      room: null,\n      [booster]: this.defaultRoleShape(),\n      [navigator]: this.defaultRoleShape(),\n      [wrangler]:  this.defaultRoleShape(),\n      [lifeSupport]: this.defaultRoleShape(),\n      stage: null,\n      roleId: null,\n      roleName: null,\n      betweenRounds: null,\n      totalBoopsRequired: null,\n      secondsForLastRound: null,\n    }\n  }\n\n  state = this.defaultState()\n\n  updateBoops(value = 1) {\n    this.state.room.send({ command: this.state.roleId, value: value });\n  }\n\n  resetGame = () => {\n    this.state.room.send({ command: \"resetGame\" })\n  }\n\n  nextRound = () => {\n    this.state.room.send({ command: \"nextRound\" })\n  }\n\n  componentDidMount() {\n    const setState = (...state) => this.setState(...state)\n\n    const client = new Colyseus.Client(process.env.NODE_ENV === \"production\" ? ProductionServer : LocalServer);\n    client.joinOrCreate(\"feral-hog-distribution\").then(room => {\n      setState({ room })\n\n      // set player role and name\n      room.state.zones.onChange = function(update, sessionId) {\n        if (update.clientId === sessionId)\n          setState({ roleId: update.id, roleName: update.name })\n      }\n\n      room.state.onChange = (changes) => {\n        const stateChanges = {}\n        changes.forEach(change => {\n          stateChanges[change.field] = change.value\n        });\n        setState(stateChanges)\n      }\n    })\n  }\n\n  yourBoops() {\n    const yourRole = this.state[this.state.roleId]\n    if (!yourRole) return null\n\n    return yourRole.boops\n  }\n\n  totalBoops() {\n    const { booster, navigator, wrangler, lifeSupport } = this.state\n    return booster.boops + navigator.boops + wrangler.boops + lifeSupport.boops\n  }\n\n  getRole(roleId) {\n    return this.state[roleId]\n  }\n\n  yourScore(roleId) {\n    if (this.totalBoops() === 0) return \"0\"\n\n    return (this.getRole(roleId).boops/this.totalBoops()*100).toFixed(0)\n  }\n\n  renderScreen() {\n    const { roleId, stage, betweenRounds, totalBoopsRequired, secondsForLastRound } = this.state\n    if (betweenRounds) {\n      return (\n        <ScoreScreen\n          secondsForRound={secondsForLastRound}\n          habitatorScore={this.yourScore(lifeSupport)}\n          boosterScore={this.yourScore(booster)}\n          wranglerScore={this.yourScore(wrangler)}\n          navigatorScore={this.yourScore(navigator)}\n          onNextRoundClick={this.nextRound}\n        />\n      )\n    } else {\n      return (\n        <RoleDescription roleId={roleId} >\n          <p>You are on stage: {stage}</p>\n          <p>Your team has performed {this.totalBoops()} boops</p>\n          <p>You want to reach {totalBoopsRequired} boops</p>\n          {/* <p>You have {this.yourBoops()} boops</p> */}\n          <Boop onBoop={(value) => this.updateBoops(value)} />\n        </RoleDescription>\n      )\n    }\n  }\n\n  // Role select?\n  render() {\n    return (\n      <>\n        <Header />\n        {this.renderScreen()}\n      </>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Styles/client.scss';\nimport Game from './Game/Game';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}