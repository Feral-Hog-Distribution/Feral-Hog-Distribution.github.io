(window["webpackJsonpferal-hog-distribution"]=window["webpackJsonpferal-hog-distribution"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/logo.654d467c.svg"},25:function(e,t,a){e.exports=a(52)},30:function(e,t,a){},39:function(e,t){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=(a(30),a(1)),u=a(5),s=a(6),i=a(8),m=a(7),d=a(9),h=a(22),p=(a(51),"booster"),g="navigator",E="wrangler",f="lifeSupport",b=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.props.onBoop(1)},type:"button",className:"text",name:"input"},"Snoot"))}}]),t}(r.a.Component);function v(e){var t=e.roleId,a=e.children;return r.a.createElement("main",{id:"role_allocation"},function(){switch(t){case p:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"You are the ",r.a.createElement("strong",null,"Booster")),r.a.createElement("p",null,"You crank the engine and keep the ship going at the correct speed."),r.a.createElement("p",null,"Listen to the ",r.a.createElement("strong",null,"Navigator")," and keep the ship going at the correct speed."),r.a.createElement("p",null,"Monitor the ",r.a.createElement("strong",null,"Boom-O-Meter")," and tell the ",r.a.createElement("strong",null,"Wrangler")," their target."));case E:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"You are the ",r.a.createElement("strong",null,"Wrangler")),r.a.createElement("p",null,"You boop the hogs and make sure the engines have enough fuel."),r.a.createElement("p",null,"Listen to the ",r.a.createElement("strong",null,"Booster")," and keep milk at the forrect flow rate."),r.a.createElement("p",null,"Monitor the ",r.a.createElement("strong",null,"Therm-O-Meter")," and tell the ",r.a.createElement("strong",null,"Habitator")," their target."));case g:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"You are the ",r.a.createElement("strong",null,"Navigator")),r.a.createElement("p",null,"You drive the ship and keep it sailing in the right direction."),r.a.createElement("p",null,"Listen to the ",r.a.createElement("strong",null,"Habitator")," and keep the ship on target."),r.a.createElement("p",null,"Monitor the ",r.a.createElement("strong",null,"Warp-O-Meter")," and tell the ",r.a.createElement("strong",null,"Booster")," their target."));case f:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"You are the ",r.a.createElement("strong",null,"Habitator")),r.a.createElement("p",null,"You maintain the life support systems and keep the hogs at a healthy temperature"),r.a.createElement("p",null,"Listen to the ",r.a.createElement("strong",null,"Wrangler")," and keep the hogs at the correct temperature."),r.a.createElement("p",null,"Monitor the ",r.a.createElement("strong",null,"Ray-O-Meter")," and tell the ",r.a.createElement("strong",null,"Navigator")," their energy production target."));default:return null}}(),a)}var y=a(24);function S(e){var t=e.currentStage;return r.a.createElement("svg",{"data-current-stage":t,viewBox:"-20 -20 807 249",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5,224.5 L122,78 L301.5,127 L262.5,203.5 L449.5,127 L301.5,47.5 L347,4 L427,78 L529.5,16.5 L598,179 L783,152",stroke:"#24B3E6",strokeWidth:"2",strokeDasharray:"8",fill:"none"}),r.a.createElement("circle",{"data-stage":"0",cx:"4",cy:"225",r:"4"}),r.a.createElement("circle",{"data-stage":"1",cx:"122",cy:"78",r:"4"}),r.a.createElement("circle",{"data-stage":"2",cx:"300",cy:"127",r:"4"}),r.a.createElement("circle",{"data-stage":"3",cx:"262",cy:"206",r:"4"}),r.a.createElement("circle",{"data-stage":"4",cx:"451",cy:"127",r:"4"}),r.a.createElement("circle",{"data-stage":"5",cx:"300",cy:"47",r:"4"}),r.a.createElement("circle",{"data-stage":"6",cx:"347",cy:"4",r:"4"}),r.a.createElement("circle",{"data-stage":"7",cx:"427",cy:"78",r:"4"}),r.a.createElement("circle",{"data-stage":"8",cx:"530",cy:"16",r:"4"}),r.a.createElement("circle",{"data-stage":"9",cx:"598",cy:"179",r:"4"}),r.a.createElement("circle",{"data-stage":"10",cx:"783",cy:"151",r:"4"}))}function k(e){var t=e.currentStage,a=e.children;return r.a.createElement("main",{id:"screen_progress"},r.a.createElement(S,{currentStage:t}),a)}function w(e){var t=e.boosterScore,a=e.habitatorScore,l=e.navigatorScore,o=e.wranglerScore,c=e.secondsForRound,u=e.onNextRoundClick,s=e.cash,i=e.currentStage,m=Object(n.useState)(!1),d=Object(y.a)(m,2),h=d[0],p=d[1],g=(c/60).toFixed(0),E=(c%60).toFixed(0);return 1===E.length&&(E="0"+E),h?r.a.createElement(k,{currentStage:i},r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return p(!1)},type:"button",className:"text",name:"input"},"Show Scores"))):r.a.createElement("main",{id:"screen_score"},r.a.createElement("dl",{className:"list_score"},r.a.createElement("dt",null,"Time"),r.a.createElement("dd",null,g,":",E)),r.a.createElement("dl",{className:"list_score"},r.a.createElement("dt",null,"Navigator"),r.a.createElement("dd",{className:"percent"},l),r.a.createElement("dt",null,"Wrangler"),r.a.createElement("dd",{className:"percent"},o),r.a.createElement("dt",null,"Booster"),r.a.createElement("dd",{className:"percent"},t),r.a.createElement("dt",null,"Habitator"),r.a.createElement("dd",{className:"percent"},a)),r.a.createElement("h2",null,"CASH"),r.a.createElement("p",null,"$",s),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return p(!0)},type:"button",className:"text",name:"input"},"Show Progress")),r.a.createElement("p",null,r.a.createElement("button",{onClick:u,type:"button",className:"text",name:"input"},"Next round")))}var x=a(23),O=a.n(x);function j(){return r.a.createElement("header",null,r.a.createElement("img",{src:O.a,alt:"Game logo"}))}var R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).defaultRoleShape=function(){return{id:null,name:null,boops:0}},a.defaultState=function(){var e;return e={room:null},Object(c.a)(e,p,a.defaultRoleShape()),Object(c.a)(e,g,a.defaultRoleShape()),Object(c.a)(e,E,a.defaultRoleShape()),Object(c.a)(e,f,a.defaultRoleShape()),Object(c.a)(e,"stage",null),Object(c.a)(e,"roleId",null),Object(c.a)(e,"roleName",null),Object(c.a)(e,"betweenRounds",null),Object(c.a)(e,"totalBoopsRequired",null),Object(c.a)(e,"secondsForLastRound",null),Object(c.a)(e,"multiplier",100),e},a.state=a.defaultState(),a.resetGame=function(){a.state.room.send({command:"resetGame"})},a.nextRound=function(){a.state.room.send({command:"nextRound"})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"updateBoops",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.state.room.send({command:this.state.roleId,value:e})}},{key:"componentDidMount",value:function(){var e=this,t=function(){return e.setState.apply(e,arguments)};new h.Client("wss://feral-hog-distribution.herokuapp.com").joinOrCreate("feral-hog-distribution").then(function(e){t({room:e}),e.state.zones.onChange=function(e,a){e.clientId===a&&t({roleId:e.id,roleName:e.name})},e.state.onChange=function(e){var a={};e.forEach(function(e){a[e.field]=e.value}),t(a)}})}},{key:"calcCash",value:function(){var e=this.state;return(e.totalBoopsRequired/40/e.secondsForLastRound*e.multiplier).toFixed(0)}},{key:"yourBoops",value:function(){var e=this.state[this.state.roleId];return e?e.boops:null}},{key:"totalBoops",value:function(){var e=this.state,t=e.booster,a=e.navigator,n=e.wrangler,r=e.lifeSupport;return t.boops+a.boops+n.boops+r.boops}},{key:"getRole",value:function(e){return this.state[e]}},{key:"yourScore",value:function(e){return 0===this.totalBoops()?"0":(this.getRole(e).boops/this.totalBoops()*100).toFixed(0)}},{key:"renderScreen",value:function(){var e=this,t=this.state,a=t.roleId,n=t.stage,l=t.betweenRounds,o=t.totalBoopsRequired,c=t.secondsForLastRound;return l?r.a.createElement(w,{secondsForRound:c,habitatorScore:this.yourScore(f),boosterScore:this.yourScore(p),wranglerScore:this.yourScore(E),navigatorScore:this.yourScore(g),cash:this.calcCash(),currentStage:n,onNextRoundClick:this.nextRound}):r.a.createElement(v,{roleId:a},r.a.createElement("p",null,"You are on stage: ",n),r.a.createElement("p",null,"Your team has performed ",this.totalBoops()," boops"),r.a.createElement("p",null,"You want to reach ",o," boops"),r.a.createElement(b,{onBoop:function(t){return e.updateBoops(t)}}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null),this.renderScreen())}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.f4e850e4.chunk.js.map